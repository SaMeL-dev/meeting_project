<<<<<<< HEAD
"<!-- Basic template -->" 
=======
 
<!-- templates/post_detail.html -->
{% extends 'base.html' %}

{% block title %}{{ ê²Œì‹œê¸€.title }} - {{ ê²Œì‹œê¸€.class_classID.className }}{% endblock %}

{% block content %}
<!-- ë„¤ë¹„ê²Œì´ì…˜ -->
<div class="row mb-3">
    <div class="col-12">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="{% url 'classes' %}">ëª¨ì„</a>
                </li>
                <li class="breadcrumb-item">
                    <a href="{% url 'post_list' ê²Œì‹œê¸€.class_classID.classID %}">{{ ê²Œì‹œê¸€.class_classID.className }}</a>
                </li>
                <li class="breadcrumb-item active">{{ ê²Œì‹œê¸€.title|truncatechars:30 }}</li>
            </ol>
        </nav>
    </div>
</div>

<!-- ê²Œì‹œê¸€ ìƒì„¸ -->
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <!-- ê²Œì‹œê¸€ í—¤ë” -->
            <div class="card-header">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <!-- ì¹´í…Œê³ ë¦¬ ë°°ì§€ -->
                        {% if ê²Œì‹œê¸€.category == 'notice' %}
                            <span class="badge bg-danger mb-2">
                                <i class="fas fa-bullhorn"></i> ê³µì§€ì‚¬í•­
                            </span>
                        {% elif ê²Œì‹œê¸€.category == 'review' %}
                            <span class="badge bg-success mb-2">
                                <i class="fas fa-star"></i> í›„ê¸°
                            </span>
                        {% else %}
                            <span class="badge bg-secondary mb-2">
                                <i class="fas fa-comment"></i> ì¼ë°˜
                            </span>
                        {% endif %}
                        
                        <h4 class="mb-2">{{ ê²Œì‹œê¸€.title }}</h4>
                        
                        <div class="d-flex align-items-center text-muted">
                            <div class="d-flex align-items-center me-4">
                                <div class="avatar-circle me-2">
                                    {{ ê²Œì‹œê¸€.author.name|first }}
                                </div>
                                <div>
                                    <div class="fw-bold">{{ ê²Œì‹œê¸€.author.name }}</div>
                                    <small>{{ ê²Œì‹œê¸€.author.accountType|capfirst }}</small>
                                </div>
                            </div>
                            
                            <div class="me-4">
                                <i class="fas fa-clock me-1"></i>
                                <small>{{ ê²Œì‹œê¸€.writeDate|date:"Yë…„ mì›” dì¼ H:i" }}</small>
                            </div>
                            
                            {% if ê²Œì‹œê¸€.writeDate != ê²Œì‹œê¸€.updateDate %}
                            <div>
                                <i class="fas fa-edit me-1"></i>
                                <small>ìˆ˜ì •: {{ ê²Œì‹œê¸€.updateDate|date:"mì›” dì¼ H:i" }}</small>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                    
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="fas fa-ellipsis-v"></i>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="#" onclick="sharePost()">
                                <i class="fas fa-share me-2"></i>ê³µìœ í•˜ê¸°
                            </a></li>
                            <li><a class="dropdown-item" href="#" onclick="reportPost()">
                                <i class="fas fa-flag me-2"></i>ì‹ ê³ í•˜ê¸°
                            </a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- ê²Œì‹œê¸€ ë‚´ìš© -->
            <div class="card-body">
                <div class="post-content">
                    {{ ê²Œì‹œê¸€.content|linebreaks }}
                </div>
                
                <!-- ê²Œì‹œê¸€ ì•¡ì…˜ -->
                <div class="post-actions mt-4 pt-3 border-top">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group" role="group">
                            <button class="btn btn-outline-primary btn-sm" onclick="likePost()">
                                <i class="far fa-thumbs-up"></i> ì¢‹ì•„ìš”
                                <span class="badge bg-primary ms-1">0</span>
                            </button>
                            <button class="btn btn-outline-info btn-sm" onclick="bookmarkPost()">
                                <i class="far fa-bookmark"></i> ë¶ë§ˆí¬
                            </button>
                        </div>
                        
                        <div class="btn-group" role="group">
                            <a href="{% url 'post_list' ê²Œì‹œê¸€.class_classID.classID %}" class="btn btn-outline-secondary btn-sm">
                                <i class="fas fa-list"></i> ëª©ë¡
                            </a>
                            {% if request.session.member_id == ê²Œì‹œê¸€.author.accountID %}
                            <button class="btn btn-outline-warning btn-sm" onclick="editPost()">
                                <i class="fas fa-edit"></i> ìˆ˜ì •
                            </button>
                            <button class="btn btn-outline-danger btn-sm" onclick="deletePost()">
                                <i class="fas fa-trash"></i> ì‚­ì œ
                            </button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ëŒ“ê¸€ ì„¹ì…˜ (ë¯¸êµ¬í˜„) -->
        <div class="card mt-4">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-comments"></i> ëŒ“ê¸€ 
                    <span class="badge bg-secondary">0</span>
                </h6>
            </div>
            <div class="card-body">
                {% if request.session.member_id %}
                <div class="comment-form mb-4">
                    <div class="d-flex">
                        <div class="avatar-circle me-3">
                            U
                        </div>
                        <div class="flex-grow-1">
                            <textarea class="form-control" rows="3" placeholder="ëŒ“ê¸€ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                            <div class="text-end mt-2">
                                <button class="btn btn-primary btn-sm" onclick="addComment()">
                                    <i class="fas fa-paper-plane"></i> ëŒ“ê¸€ ì‘ì„±
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
                
                <div class="text-center text-muted py-4">
                    <i class="fas fa-comments fa-3x mb-3"></i>
                    <p>ì•„ì§ ëŒ“ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                    {% if not request.session.member_id %}
                    <p><a href="{% url 'login' %}">ë¡œê·¸ì¸</a>í•˜ë©´ ëŒ“ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆì–´ìš”!</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    
    <!-- ì‚¬ì´ë“œë°” -->
    <div class="col-md-4">
        <!-- ëª¨ì„ ì •ë³´ -->
        <div class="card mb-4">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-users"></i> ëª¨ì„ ì •ë³´
                </h6>
            </div>
            <div class="card-body">
                <h6 class="fw-bold">{{ ê²Œì‹œê¸€.class_classID.className }}</h6>
                <p class="text-muted small mb-3">{{ ê²Œì‹œê¸€.class_classID.interestID.interestName }}</p>
                
                <div class="mb-3">
                    <div class="d-flex justify-content-between mb-1">
                        <small>í™œë™ ê¸°ê°„:</small>
                    </div>
                    <small class="text-muted">
                        {{ ê²Œì‹œê¸€.class_classID.classStartDate }} ~ {{ ê²Œì‹œê¸€.class_classID.classEndDate }}
                    </small>
                </div>
                
                <div class="d-grid gap-2">
                    <a href="{% url 'post_list' ê²Œì‹œê¸€.class_classID.classID %}" class="btn btn-primary btn-sm">
                        <i class="fas fa-comments"></i> ê²Œì‹œíŒ ê°€ê¸°
                    </a>
                    <button class="btn btn-outline-success btn-sm" onclick="joinClass()">
                        <i class="fas fa-plus"></i> ëª¨ì„ ì°¸ì—¬
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ì‘ì„±ì ì •ë³´ -->
        <div class="card mb-4">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-user"></i> ì‘ì„±ì ì •ë³´
                </h6>
            </div>
            <div class="card-body text-center">
                <div class="avatar-large mx-auto mb-3">
                    {{ ê²Œì‹œê¸€.author.name|first }}
                </div>
                <h6 class="fw-bold">{{ ê²Œì‹œê¸€.author.name }}</h6>
                <p class="text-muted small">{{ ê²Œì‹œê¸€.author.accountType|capfirst }}</p>
                
                <div class="stats-row">
                    <div class="stat-item">
                        <div class="fw-bold">{{ ê²Œì‹œê¸€.author.posts.count }}</div>
                        <small class="text-muted">ê²Œì‹œê¸€</small>
                    </div>
                    <div class="stat-item">
                        <div class="fw-bold">{{ ê²Œì‹œê¸€.author.sugang_set.count }}</div>
                        <small class="text-muted">ì°¸ì—¬ ëª¨ì„</small>
                    </div>
                </div>
                
                <button class="btn btn-outline-primary btn-sm mt-3" onclick="viewProfile()">
                    <i class="fas fa-user"></i> í”„ë¡œí•„ ë³´ê¸°
                </button>
            </div>
        </div>
        
        <!-- ê°™ì€ ëª¨ì„ì˜ ë‹¤ë¥¸ ê¸€ -->
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-list"></i> ë‹¤ë¥¸ ê²Œì‹œê¸€
                </h6>
            </div>
            <div class="card-body">
                <div class="text-center text-muted">
                    <i class="fas fa-file-alt fa-2x mb-2"></i>
                    <p class="small">ë‹¤ë¥¸ ê²Œì‹œê¸€ì„ ë³´ë ¤ë©´<br>ê²Œì‹œíŒìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”</p>
                    <a href="{% url 'post_list' ê²Œì‹œê¸€.class_classID.classID %}" class="btn btn-outline-primary btn-sm">
                        <i class="fas fa-list"></i> ê²Œì‹œíŒ ë³´ê¸°
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// ê²Œì‹œê¸€ ì•¡ì…˜ í•¨ìˆ˜ë“¤
function likePost() {
    alert('ğŸ‘ ì¢‹ì•„ìš” ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function bookmarkPost() {
    alert('ğŸ”– ë¶ë§ˆí¬ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function sharePost() {
    const url = window.location.href;
    const title = '{{ ê²Œì‹œê¸€.title }}';
    const text = `í¥ë¯¸ë¡œìš´ ê²Œì‹œê¸€ì„ ë°œê²¬í–ˆì–´ìš”: ${title}`;
    
    if (navigator.share) {
        navigator.share({
            title: title,
            text: text,
            url: url
        });
    } else {
        navigator.clipboard.writeText(url).then(() => {
            alert('ğŸ”— ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });
    }
}

function reportPost() {
    if (confirm('ì´ ê²Œì‹œê¸€ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        alert('ğŸš¨ ì‹ ê³ ê°€ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ê²€í†  í›„ ì¡°ì¹˜í•˜ê² ìŠµë‹ˆë‹¤.');
    }
}

function editPost() {
    alert('âœï¸ ê²Œì‹œê¸€ ìˆ˜ì • ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function deletePost() {
    if (confirm('ì •ë§ë¡œ ì´ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        alert('ğŸ—‘ï¸ ê²Œì‹œê¸€ ì‚­ì œ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
    }
}

function addComment() {
    alert('ğŸ’¬ ëŒ“ê¸€ ì‘ì„± ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function joinClass() {
    {% if request.session.member_id %}
        if (confirm('ì´ ëª¨ì„ì— ì°¸ì—¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
            // ëª¨ì„ ì°¸ì—¬ ë¡œì§
            window.location.href = '{% url "classes" %}';
        }
    {% else %}
        alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
        window.location.href = '{% url "login" %}';
    {% endif %}
}

function viewProfile() {
    alert('ğŸ‘¤ í”„ë¡œí•„ ë³´ê¸° ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

// í˜ì´ì§€ ë¡œë“œ ì• ë‹ˆë©”ì´ì…˜
document.addEventListener('DOMContentLoaded', function() {
    const card = document.querySelector('.card');
    card.style.opacity = '0';
    card.style.transform = 'translateY(20px)';
    setTimeout(() => {
        card.style.transition = 'all 0.5s ease';
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
    }, 100);
});
</script>

<style>
.avatar-circle {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4285F4, #34A853);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.1rem;
}

.avatar-large {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4285F4, #34A853);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 2rem;
    margin: 0 auto;
}

.post-content {
    line-height: 1.8;
    font-size: 1.1rem;
    color: #333;
}

.post-content p {
    margin-bottom: 1.2rem;
}

.post-actions {
    background: #f8f9fa;
    margin: -1.25rem -1.25rem 0;
    padding: 1rem 1.25rem;
    border-radius: 0 0 0.375rem 0.375rem;
}

.stats-row {
    display: flex;
    justify-content: space-around;
    margin: 1rem 0;
}

.stat-item {
    text-align: center;
}

.badge {
    font-size: 0.7rem;
}

.comment-form {
    background: #f8f9fa;
    padding: 1rem;
    border-radius: 0.5rem;
}

.btn-group .btn {
    border-radius: 0.375rem;
    margin: 0 2px;
}

.dropdown-menu {
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border: none;
}

.dropdown-item {
    padding: 0.5rem 1rem;
    transition: all 0.3s ease;
}

.dropdown-item:hover {
    background-color: #f8f9fa;
    transform: translateX(5px);
}

@media (max-width: 768px) {
    .d-flex.justify-content-between {
        flex-direction: column;
        align-items: flex-start !important;
    }
    
    .btn-group {
        margin-bottom: 1rem;
        width: 100%;
    }
    
    .btn-group .btn {
        flex: 1;
    }
    
    .post-content {
        font-size: 1rem;
    }
    
    .avatar-circle {
        width: 35px;
        height: 35px;
        font-size: 1rem;
    }
    
    .stats-row {
        margin: 0.5rem 0;
    }
}

/* ë°˜ì‘í˜• í…Œì´ë¸” */
@media (max-width: 576px) {
    .card-body {
        padding: 1rem;
    }
    
    .post-actions {
        margin: -1rem -1rem 0;
        padding: 0.75rem 1rem;
    }
    
    .comment-form {
        padding: 0.75rem;
    }
}

/* ë‹¤í¬ëª¨ë“œ ì§€ì› */
@media (prefers-color-scheme: dark) {
    .post-content {
        color: #e9ecef;
    }
    
    .comment-form {
        background: #343a40;
    }
    
    .post-actions {
        background: #343a40;
    }
}
</style>
{% endblock %}
>>>>>>> 5a4edcb6a4c3843af1a3137a75cee3f06ca8229b
