<<<<<<< HEAD
"<!-- Basic template -->" 
=======
<!-- templates/mypage.html -->
{% extends 'base.html' %}

{% block title %}ë§ˆì´í˜ì´ì§€ - {{ member.name }}{% endblock %}

{% block content %}
<!-- íˆì–´ë¡œ ì„¹ì…˜ -->
<div class="hero-section">
    <h1 class="display-5 fw-bold mb-3">
        <i class="fas fa-user"></i> ë§ˆì´í˜ì´ì§€
    </h1>
    <p class="lead">{{ member.name }}ë‹˜ì˜ í™œë™ í˜„í™©ì„ í™•ì¸í•´ë³´ì„¸ìš”</p>
</div>

<div class="row">
    <!-- í”„ë¡œí•„ ì‚¬ì´ë“œë°” -->
    <div class="col-md-4">
        <!-- í”„ë¡œí•„ ì¹´ë“œ -->
        <div class="card mb-4">
            <div class="card-body text-center">
                <div class="avatar-large mx-auto mb-3">
                    {{ member.name|first }}
                </div>
                <h5 class="fw-bold">{{ member.name }}</h5>
                <p class="text-muted">{{ member.accountType|capfirst }}</p>
                <p class="small text-muted">
                    <i class="fas fa-calendar"></i> 
                    {{ member.joinDate|date:"Yë…„ mì›” dì¼" }} ê°€ì…
                </p>
                <p class="small">
                    <i class="fas fa-envelope"></i> {{ member.email }}
                </p>
                <p class="small">
                    <i class="fas fa-phone"></i> {{ member.phoneNum }}
                </p>
                <div class="d-grid gap-2">
                    <button class="btn btn-outline-primary btn-sm" onclick="editProfile()">
                        <i class="fas fa-edit"></i> í”„ë¡œí•„ ìˆ˜ì •
                    </button>
                    <button class="btn btn-outline-secondary btn-sm" onclick="changePassword()">
                        <i class="fas fa-lock"></i> ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ê´€ì‹¬ì‚¬ -->
        <div class="card mb-4">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-heart"></i> ê´€ì‹¬ì‚¬
                </h6>
            </div>
            <div class="card-body">
                {% for ê´€ì‹¬ì‚¬ in ê´€ì‹¬ì‚¬ë“¤ %}
                    <span class="badge bg-primary me-1 mb-1">{{ ê´€ì‹¬ì‚¬.interests.interestName }}</span>
                {% empty %}
                    <div class="text-center text-muted">
                        <i class="fas fa-heart-broken fa-2x mb-2"></i>
                        <p class="small">ë“±ë¡ëœ ê´€ì‹¬ì‚¬ê°€ ì—†ì–´ìš”</p>
                        <button class="btn btn-outline-primary btn-sm" onclick="addInterest()">
                            <i class="fas fa-plus"></i> ê´€ì‹¬ì‚¬ ì¶”ê°€
                        </button>
                    </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- ë¹ ë¥¸ ì•¡ì…˜ -->
        <div class="card">
            <div class="card-header">
                <h6 class="mb-0">
                    <i class="fas fa-bolt"></i> ë¹ ë¥¸ ì•¡ì…˜
                </h6>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <a href="{% url 'classes' %}" class="btn btn-primary btn-sm">
                        <i class="fas fa-search"></i> ìƒˆ ëª¨ì„ ì°¾ê¸°
                    </a>
                    <button class="btn btn-outline-success btn-sm" onclick="inviteFriend()">
                        <i class="fas fa-user-plus"></i> ì¹œêµ¬ ì´ˆëŒ€
                    </button>
                    <button class="btn btn-outline-info btn-sm" onclick="shareProfile()">
                        <i class="fas fa-share"></i> í”„ë¡œí•„ ê³µìœ 
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="col-md-8">
        <!-- í™œë™ ìš”ì•½ -->
        <div class="row mb-4">
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ ì‹ ì²­í´ë˜ìŠ¤ë“¤|length }}</div>
                    <div class="text-muted">ì°¸ì—¬ ëª¨ì„</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ ì‘ì„±ê²Œì‹œê¸€ë“¤|length }}</div>
                    <div class="text-muted">ì‘ì„± ê¸€</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ ê´€ì‹¬ì‚¬ë“¤|length }}</div>
                    <div class="text-muted">ê´€ì‹¬ì‚¬</div>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-3">
                <div class="stats-card">
                    <div class="stats-number">{{ ì¶œì„ì´ë ¥|length }}</div>
                    <div class="text-muted">ì¶œì„ íšŸìˆ˜</div>
                </div>
            </div>
        </div>
        
        <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <ul class="nav nav-tabs mb-3" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="classes-tab" data-bs-toggle="tab" data-bs-target="#classes" type="button">
                    <i class="fas fa-users"></i> ì°¸ì—¬ ëª¨ì„
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="posts-tab" data-bs-toggle="tab" data-bs-target="#posts" type="button">
                    <i class="fas fa-pen"></i> ì‘ì„± ê¸€
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="attendance-tab" data-bs-toggle="tab" data-bs-target="#attendance" type="button">
                    <i class="fas fa-calendar-check"></i> ì¶œì„ í˜„í™©
                </button>
            </li>
        </ul>
        
        <!-- íƒ­ ì½˜í…ì¸  -->
        <div class="tab-content" id="myTabContent">
            <!-- ì°¸ì—¬ ëª¨ì„ -->
            <div class="tab-pane fade show active" id="classes" role="tabpanel">
                <div class="card">
                    <div class="card-header">
                        <h6 class="mb-0">
                            <i class="fas fa-users"></i> ì°¸ì—¬ ëª¨ì„ ({{ ì‹ ì²­í´ë˜ìŠ¤ë“¤|length }}ê°œ)
                        </h6>
                    </div>
                    <div class="card-body">
                        {% for ìˆ˜ê°• in ì‹ ì²­í´ë˜ìŠ¤ë“¤ %}
                        <div class="meeting-item border-bottom py-3">
                            <div class="d-flex justify-content-between align-items-start">
                                <div class="flex-grow-1">
                                    <h6 class="mb-2">{{ ìˆ˜ê°•.class_classID.className }}</h6>
                                    <p class="text-muted small mb-2">
                                        <i class="fas fa-tag me-1"></i>{{ ìˆ˜ê°•.class_classID.interestID.interestName }}
                                        <span class="ms-3">
                                            <i class="fas fa-calendar me-1"></i>{{ ìˆ˜ê°•.class_classID.classStartDate }} ~ {{ ìˆ˜ê°•.class_classID.classEndDate }}
                                        </span>
                                    </p>
                                    <p class="text-muted small mb-0">
                                        <i class="fas fa-clock me-1"></i>ì‹ ì²­ì¼: {{ ìˆ˜ê°•.registration_date|date:"Y-m-d" }}
                                    </p>
                                </div>
                                <div class="btn-group" role="group">
                                    <a href="{% url 'post_list' ìˆ˜ê°•.class_classID.classID %}" class="btn btn-outline-primary btn-sm">
                                        <i class="fas fa-comments"></i> ê²Œì‹œíŒ
                                    </a>
                                    <button class="btn btn-outline-secondary btn-sm" onclick="leaveClass({{ ìˆ˜ê°•.class_classID.classID }})">
                                        <i class="fas fa-sign-out-alt"></i> íƒˆí‡´
                                    </button>
                                </div>
                            </div>
                        </div>
                        {% empty %}
                        <div class="text-center text-muted py-5">
                            <i class="fas fa-users-slash fa-4x mb-3"></i>
                            <h5>ì•„ì§ ì°¸ì—¬í•œ ëª¨ì„ì´ ì—†ì–´ìš”</h5>
                            <p>ê´€ì‹¬ ìˆëŠ” ëª¨ì„ì„ ì°¾ì•„ ì°¸ì—¬í•´ë³´ì„¸ìš”!</p>
                            <a href="{% url 'classes' %}" class="btn btn-primary">
                                <i class="fas fa-search me-2"></i>ëª¨ì„ ì°¾ê¸°
                            </a>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            
            <!-- ì‘ì„± ê¸€ -->
            <div class="tab-pane fade" id="posts" role="tabpanel">
                <div class="card">
                    <div class="card-header">
                        <h6 class="mb-0">
                            <i class="fas fa-pen"></i> ìµœê·¼ ì‘ì„±ê¸€ ({{ ì‘ì„±ê²Œì‹œê¸€ë“¤|length }}ê°œ)
                        </h6>
                    </div>
                    <div class="card-body">
                        {% for ê²Œì‹œê¸€ in ì‘ì„±ê²Œì‹œê¸€ë“¤ %}
                        <div class="post-item border-bottom py-3">
                            <div class="d-flex justify-content-between align-items-start">
                                <div class="flex-grow-1">
                                    <!-- ì¹´í…Œê³ ë¦¬ ë°°ì§€ -->
                                    {% if ê²Œì‹œê¸€.category == 'notice' %}
                                        <span class="badge bg-danger mb-2">
                                            <i class="fas fa-bullhorn"></i> ê³µì§€ì‚¬í•­
                                        </span>
                                    {% elif ê²Œì‹œê¸€.category == 'review' %}
                                        <span class="badge bg-success mb-2">
                                            <i class="fas fa-star"></i> í›„ê¸°
                                        </span>
                                    {% else %}
                                        <span class="badge bg-secondary mb-2">
                                            <i class="fas fa-comment"></i> ì¼ë°˜
                                        </span>
                                    {% endif %}
                                    
                                    <h6 class="mb-2">
                                        <a href="{% url 'post_detail' ê²Œì‹œê¸€.postID %}" class="text-decoration-none">
                                            {{ ê²Œì‹œê¸€.title }}
                                        </a>
                                    </h6>
                                    <p class="text-muted small mb-2">
                                        {{ ê²Œì‹œê¸€.content|truncatewords:15 }}
                                    </p>
                                    <p class="text-muted small mb-0">
                                        <i class="fas fa-users me-1"></i>{{ ê²Œì‹œê¸€.class_classID.className }}
                                        <span class="ms-3">
                                            <i class="fas fa-clock me-1"></i>{{ ê²Œì‹œê¸€.writeDate|date:"Y-m-d H:i" }}
                                        </span>
                                    </p>
                                </div>
                                <div class="btn-group" role="group">
                                    <a href="{% url 'post_detail' ê²Œì‹œê¸€.postID %}" class="btn btn-outline-primary btn-sm">
                                        <i class="fas fa-eye"></i> ë³´ê¸°
                                    </a>
                                    <button class="btn btn-outline-warning btn-sm" onclick="editPost({{ ê²Œì‹œê¸€.postID }})">
                                        <i class="fas fa-edit"></i> ìˆ˜ì •
                                    </button>
                                </div>
                            </div>
                        </div>
                        {% empty %}
                        <div class="text-center text-muted py-5">
                            <i class="fas fa-pen-slash fa-4x mb-3"></i>
                            <h5>ì•„ì§ ì‘ì„±í•œ ê¸€ì´ ì—†ì–´ìš”</h5>
                            <p>ëª¨ì„ì— ì°¸ì—¬í•˜ê³  ì²« ê¸€ì„ ì‘ì„±í•´ë³´ì„¸ìš”!</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            
            <!-- ì¶œì„ í˜„í™© -->
            <div class="tab-pane fade" id="attendance" role="tabpanel">
                <div class="card">
                    <div class="card-header">
                        <h6 class="mb-0">
                            <i class="fas fa-calendar-check"></i> ì¶œì„ í˜„í™© ({{ ì¶œì„ì´ë ¥|length }}íšŒ)
                        </h6>
                    </div>
                    <div class="card-body">
                        {% for ì¶œì„ in ì¶œì„ì´ë ¥ %}
                        <div class="attendance-item d-flex justify-content-between align-items-center border-bottom py-2">
                            <div>
                                <h6 class="mb-1">{{ ì¶œì„.sugang_sugangID.class_classID.className }}</h6>
                                <small class="text-muted">{{ ì¶œì„.attendDate|date:"Yë…„ mì›” dì¼" }}</small>
                            </div>
                            <div>
                                {% if ì¶œì„.attendanceStatus == 'present' %}
                                    <span class="badge bg-success">
                                        <i class="fas fa-check"></i> ì¶œì„
                                    </span>
                                {% elif ì¶œì„.attendanceStatus == 'late' %}
                                    <span class="badge bg-warning">
                                        <i class="fas fa-clock"></i> ì§€ê°
                                    </span>
                                {% else %}
                                    <span class="badge bg-danger">
                                        <i class="fas fa-times"></i> ê²°ì„
                                    </span>
                                {% endif %}
                            </div>
                        </div>
                        {% empty %}
                        <div class="text-center text-muted py-5">
                            <i class="fas fa-calendar-times fa-4x mb-3"></i>
                            <h5>ì¶œì„ ê¸°ë¡ì´ ì—†ì–´ìš”</h5>
                            <p>ëª¨ì„ì— ì°¸ì—¬í•˜ë©´ ì¶œì„ ê¸°ë¡ì´ ìŒ“ì—¬ìš”!</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// í”„ë¡œí•„ ê´€ë ¨ í•¨ìˆ˜ë“¤
function editProfile() {
    alert('âœï¸ í”„ë¡œí•„ ìˆ˜ì • ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function changePassword() {
    alert('ğŸ”’ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function addInterest() {
    alert('â¤ï¸ ê´€ì‹¬ì‚¬ ì¶”ê°€ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function inviteFriend() {
    alert('ğŸ‘¥ ì¹œêµ¬ ì´ˆëŒ€ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

function shareProfile() {
    const url = window.location.href;
    if (navigator.share) {
        navigator.share({
            title: '{{ member.name }}ë‹˜ì˜ í”„ë¡œí•„',
            url: url
        });
    } else {
        navigator.clipboard.writeText(url).then(() => {
            alert('ğŸ”— í”„ë¡œí•„ ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });
    }
}

function leaveClass(classId) {
    if (confirm('ì •ë§ë¡œ ì´ ëª¨ì„ì—ì„œ íƒˆí‡´í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        alert('ğŸšª ëª¨ì„ íƒˆí‡´ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
    }
}

function editPost(postId) {
    alert('âœï¸ ê²Œì‹œê¸€ ìˆ˜ì • ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!');
}

// í˜ì´ì§€ ë¡œë“œ ì• ë‹ˆë©”ì´ì…˜
document.addEventListener('DOMContentLoaded', function() {
    const cards = document.querySelectorAll('.card');
    cards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        setTimeout(() => {
            card.style.transition = 'all 0.5s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
});
</script>

<style>
.avatar-large {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4285F4, #34A853);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 2rem;
    margin: 0 auto;
}

.meeting-item, .post-item, .attendance-item {
    transition: all 0.3s ease;
}

.meeting-item:hover, .post-item:hover, .attendance-item:hover {
    background-color: #f8f9fa;
    transform: translateX(5px);
}

.meeting-item:last-child, .post-item:last-child, .attendance-item:last-child {
    border-bottom: none !important;
}

.nav-tabs .nav-link {
    color: #6c757d;
    border: none;
    border-bottom: 3px solid transparent;
}

.nav-tabs .nav-link.active {
    background: none;
    border-bottom-color: #4285F4;
    color: #4285F4;
    font-weight: 600;
}

.nav-tabs .nav-link:hover {
    border-bottom-color: #4285F4;
    color: #4285F4;
}

.badge {
    font-size: 0.7rem;
}

@media (max-width: 768px) {
    .btn-group {
        flex-direction: column;
    }
    
    .d-flex.justify-content-between {
        flex-direction: column;
        align-items: flex-start !important;
    }
    
    .btn-group {
        margin-top: 1rem;
        width: 100%;
    }
    
    .nav-tabs {
        flex-wrap: wrap;
    }
    
    .nav-tabs .nav-link {
        font-size: 0.9rem;
        padding: 0.5rem 0.75rem;
    }
}
</style>
{% endblock %}
>>>>>>> 5a4edcb6a4c3843af1a3137a75cee3f06ca8229b
